# Cloudflare Worker Configuration
# See https://developers.cloudflare.com/workers/platform/configuration/

name = "hotel-price-tracker-worker"
type = "javascript"
account_id = "2084d7f7c042f35730c7dfe7c14ded40"
workers_dev = true
route = ""
zone_id = ""

# Environment: Development
[env.development]
vars = { STRIPE_PRICE_ID = "price_1T1QiTITKuqw7ZkZvwF5f1b3", STRIPE_PUBLISHABLE_KEY = "pk_test_51T1QZfITKuqw7ZkZ1gIiLZWifIaTEysMQM2oDds248QCxXj9JhIUGlMAthncMeeGmvjGNuYlnTKCBHBuMhwhlKeG00x9aCncM6" }
kv_namespaces = [
  { binding = "SUBSCRIPTIONS", id = "89c020947ec349ba983804a6e8d100d0", preview_id = "89c020947ec349ba983804a6e8d100d0" }
]
# Secrets are added via GitHub Actions environment variables

# Environment: Production
[env.production]
route = "https://example.com/worker/*"
zone_id = ""
vars = { STRIPE_PUBLISHABLE_KEY = "pk_live_YOUR_LIVE_KEY_HERE" }
kv_namespaces = [
  { binding = "SUBSCRIPTIONS", id = "YOUR_PRODUCTION_KV_ID", preview_id = "YOUR_PROD_PREVIEW_ID" }
]

# Build configuration
build = { command = "npm install stripe" }
